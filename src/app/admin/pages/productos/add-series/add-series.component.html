<div class="card">
    <p-toast position="top-center" key="tc"></p-toast>
    <form [formGroup]="form" #formSerie="ngForm">

        <div class="p-fluid">
            <div class="field">


                <label for="serie">Serie</label>
                <div class="p-inputgroup">
                    <input type="text" pInputText formControlName="serie" #inputSerie (keydown.enter)="enter($event)"
                        [ngClass]="{'ng-invalid ng-dirty' : f['serie'].touched && f['serie'].errors}" />
                    <small class="ng-dirty ng-invalid" *ngIf="f['serie'].errors?.['required'] && f['serie'].touched">Es
                        requerido</small>
                    <small class="ng-dirty ng-invalid"
                        *ngIf="f['serie'].errors?.['minlength'] && f['serie'].touched">Debe
                        ingresar m√≠nimo 2 caracteres</small>
                    <button type="button" pButton icon="pi pi-plus" styleClass="p-button-warn"
                        (click)="addSerie()"></button>
                </div>
            </div>
        </div>

        <div class="mb-2">
            <p-table [value]="series" styleClass="p-datatable-sm p-datatable-gridlines">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Serie</th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-row let-rowIndex="rowIndex">
                    <tr>
                        <td style="width:90%; min-width:10rem;">{{ row }}</td>
                        <td style="width:10%; min-width:5rem;">
                            <div class="flex">
                                <p-button icon="pi pi-trash" styleClass="p-button-danger p-button-text p-button-table"
                                    (click)="deleteItem(rowIndex)"></p-button>
                            </div>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>

        <div>
            <button *ngIf="series.length > 0" pButton pRipple label="Guardar" class="mr-2 mb-2" type="button"
                (click)="operate()"></button>
            <button pButton pRipple label="Cancelar" type="button" class="p-button-secondary mr-2 mb-2"
                (click)="close()"></button>
        </div>

    </form>


</div>
